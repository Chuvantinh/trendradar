{"ast":null,"code":"import _asyncToGenerator from \"/Users/vantinhchu/Documents/07_Projects/IntelliJ/trendradar/angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __asyncValues } from \"tslib\";\nimport { FormControl, Validators } from '@angular/forms';\nimport gql from 'graphql-tag';\nimport { Observable } from 'rxjs';\nimport { finalize } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"apollo-angular\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../services/notification.service\";\nimport * as i5 from \"@angular/fire/database\";\nimport * as i6 from \"@angular/fire/storage\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"ckeditor4-angular\";\n\nfunction TrendAddOneComponent_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const c_r11 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", c_r11.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(c_r11.title);\n  }\n}\n\nfunction TrendAddOneComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Please select mega trend \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TrendAddOneComponent_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const c_r12 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", c_r12.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(c_r12.title);\n  }\n}\n\nfunction TrendAddOneComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" This Field is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TrendAddOneComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Title is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TrendAddOneComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Description is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TrendAddOneComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2, \"Videos \");\n    i0.ɵɵelement(3, \"i\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"i\", 39);\n    i0.ɵɵlistener(\"click\", function TrendAddOneComponent_div_32_Template_i_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const i_r14 = restoredCtx.index;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.removeQuestionVideo(i_r14);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 40);\n    i0.ɵɵlistener(\"change\", function TrendAddOneComponent_div_32_Template_input_change_5_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.onFileVideoChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r14 = ctx.index;\n    i0.ɵɵproperty(\"formGroupName\", i_r14);\n  }\n}\n\nfunction TrendAddOneComponent_video_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"video\", 41);\n    i0.ɵɵelement(1, \"source\", 42);\n    i0.ɵɵelement(2, \"source\", 43);\n    i0.ɵɵtext(3, \" Your browser does not support HTML video. \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const url_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", url_r18, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", url_r18, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction TrendAddOneComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2, \"Image \");\n    i0.ɵɵelement(3, \"i\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"i\", 39);\n    i0.ɵɵlistener(\"click\", function TrendAddOneComponent_div_36_Template_i_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const i_r20 = restoredCtx.index;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.removeQuestionImage(i_r20);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 45);\n    i0.ɵɵlistener(\"change\", function TrendAddOneComponent_div_36_Template_input_change_5_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.onFileImagesChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r20 = ctx.index;\n    i0.ɵɵproperty(\"formGroupName\", i_r20);\n  }\n}\n\nfunction TrendAddOneComponent_img_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 46);\n  }\n\n  if (rf & 2) {\n    const url_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"src\", url_r24, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class TrendAddOneComponent {\n  constructor(formBuilder, apollo, router, route, notification, fb, db, // public downloadURL: Observable<string>,\n  storage) {\n    this.formBuilder = formBuilder;\n    this.apollo = apollo;\n    this.router = router;\n    this.route = route;\n    this.notification = notification;\n    this.fb = fb;\n    this.db = db;\n    this.storage = storage;\n    this.form = this.formBuilder.group({});\n    this.categories = [];\n    this.categoriesMegatrend = [];\n    this.images = []; // for preview images\n\n    this.videos = []; // for preview videos\n\n    this.uploadFilesImages = []; // for save images\n\n    this.uploadFilesVideos = []; // for save videos\n    // link images and videos after uploading\n\n    this.linkImages = [];\n    this.linkVideos = [];\n    this.downloadURL = new Observable();\n  }\n\n  ngOnInit() {\n    this.getCategories();\n    this.getCategoriesMegatrend();\n    this.form = this.formBuilder.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required],\n      trendVideos: this.fb.array([this.fb.group({\n        trend_videos: new FormControl('', [Validators.required])\n      })]),\n      trendImages: this.fb.array([this.fb.group({\n        trend_images: new FormControl('', [Validators.required])\n      })]),\n      catId1: ['', Validators.required],\n      catId2: ['', Validators.required],\n      source_title: ['', Validators.required],\n      source_description: ['', Validators.required],\n      source_url: ['', Validators.required],\n      source_enum: ['', Validators.required]\n    });\n  }\n\n  add(valueInput) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var e_1, _a, e_2, _b; // validate form\n\n\n      if (_this.form.invalid) {\n        _this.notification.showError('Bitte validieren Sie Form', 'trendradar.de');\n\n        return;\n      }\n\n      if (_this.uploadFilesImages.length > 0) {\n        try {\n          for (var _c = __asyncValues(_this.uploadFilesImages), _d; _d = yield _c.next(), !_d.done;) {\n            let item = _d.value;\n\n            _this.linkImages.push(yield _this.uploadImages(item));\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_d && !_d.done && (_a = _c.return)) yield _a.call(_c);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n\n      if (_this.uploadFilesVideos.length > 0) {\n        try {\n          for (var _e = __asyncValues(_this.uploadFilesVideos), _f; _f = yield _e.next(), !_f.done;) {\n            let item = _f.value;\n\n            _this.linkVideos.push(yield _this.uploadVideos(item));\n          }\n        } catch (e_2_1) {\n          e_2 = {\n            error: e_2_1\n          };\n        } finally {\n          try {\n            if (_f && !_f.done && (_b = _e.return)) yield _b.call(_e);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n      }\n\n      console.log(_this.linkVideos);\n      console.log(_this.linkImages);\n      console.log('valueInput' + valueInput.description);\n      let STATUS;\n\n      (function (STATUS) {\n        STATUS[\"e\"] = \"ACTIVE\";\n        STATUS[\"g\"] = \"DEACTIVE\";\n        STATUS[\"b\"] = \"BEENDET\";\n      })(STATUS || (STATUS = {}));\n\n      const _status = STATUS.e; // add data to database\n\n      let data_trend = {\n        title: valueInput.title,\n        description: valueInput.description,\n        images: _this.linkImages\n      };\n    })();\n  }\n  /**\n   * Handle Change of Images\n   */\n\n\n  onFileImagesChange(event) {\n    if (event.target.files && event.target.files[0]) {\n      //console.log(this.uploadFilesImages);\n      let filesAmount = event.target.files.length;\n\n      for (let i = 0; i < filesAmount; i++) {\n        let reader = new FileReader();\n\n        reader.onload = event => {\n          // console.log(event.target.result);\n          this.images.push(event.target.result);\n        }; // for upload image\n\n\n        this.uploadFilesImages.push(event.target.files[i]);\n        reader.readAsDataURL(event.target.files[i]);\n      }\n    }\n  }\n  /**\n   * Handle Change of Videos\n   */\n\n\n  onFileVideoChange(event) {\n    if (event.target.files && event.target.files[0]) {\n      let filesAmount = event.target.files.length;\n\n      for (let i = 0; i < filesAmount; i++) {\n        let reader = new FileReader();\n\n        reader.onload = event => {\n          // console.log(event.target.result);\n          this.videos.push(event.target.result);\n        }; // for upload video to frise base\n\n\n        this.uploadFilesVideos.push(event.target.files[i]);\n        reader.readAsDataURL(event.target.files[i]);\n      }\n    }\n  }\n  /**\n   * get Infor of all categories\n   */\n\n\n  getCategories() {\n    this.apollo.watchQuery({\n      query: gql`\n        query getCategories($isparent: Int){\n          getCategories(isparent: $isparent){\n            id\n            title\n            description\n            createdAt\n            createdBy\n            {\n              id\n              name\n            }\n          }\n        }\n      `,\n      variables: {\n        isparent: 1\n      }\n    }).valueChanges.subscribe(result => {\n      this.categories = Array.of(result.data);\n      this.categories = this.categories[0].getCategories;\n    });\n  }\n  /**\n   * get Infor of all categories\n   */\n\n\n  getCategoriesMegatrend() {\n    this.apollo.watchQuery({\n      query: gql`\n        query getCategories($isparent: Int){\n          getCategories(isparent: $isparent){\n            id\n            title\n            description\n            createdAt\n            createdBy\n            {\n              id\n              name\n            }\n          }\n        }\n      `,\n      variables: {\n        isparent: 0\n      }\n    }).valueChanges.subscribe(result => {\n      this.categoriesMegatrend = Array.of(result.data);\n      this.categoriesMegatrend = this.categoriesMegatrend[0].getCategories;\n    });\n  }\n\n  getMarcoTrendByMegaId($event) {\n    let id = parseInt($event);\n    console.log(id);\n    this.apollo.watchQuery({\n      query: gql`\n        query getMarcoTrendByMegaId($id: Int){\n          getMarcoTrendByMegaId(id: $id){\n            id\n            title\n            description\n          }\n        }\n      `,\n      variables: {\n        parentId: 42\n      }\n    }).valueChanges.subscribe(result2 => {\n      // this.categories = Array.of(result.data);\n      console.log('when changing category');\n      console.log(Array.of(result2.data)); //this.categories = Array.of(this.categories[0].getMarcoTrendByMegaId);\n    });\n  }\n  /**\n   * ************************************************************************************ FORM ARRAY\n   */\n  // Video ----------------------------------------------------------------------------------------------------------\n\n  /**\n   * Video, Add and Remove question type Video\n   */\n\n\n  trend_videos() {\n    return this.form.get('trendVideos');\n  }\n\n  removeQuestionVideo(index) {\n    this.trend_videos().removeAt(index);\n  } // Images ----------------------------------------------------------------------------------------------------------\n\n  /**\n   * Image, Add and Remove question type image\n   * image would save on the google cloud\n   */\n\n\n  trend_images() {\n    return this.form.get('trendImages');\n  }\n\n  removeQuestionImage(index) {\n    this.trend_images().removeAt(index);\n  }\n  /**\n   * ***********************************************************************************************************\n   */\n\n  /**\n   * Upload Image to Firebase Cloud in Folder ImagesSurvey\n   * @output string url\n   */\n\n\n  uploadImages(fileItem) {\n    return new Promise((resolve, reject) => {\n      let URL;\n      const date = Date.now();\n      const filePath = `Masterthesis/${date}`; // where storaged\n\n      const fileRef = this.storage.ref(filePath); // where is the endpoint\n\n      const task = this.storage.upload(`Masterthesis/${date}`, fileItem);\n      task.snapshotChanges().pipe(finalize(() => {\n        this.downloadURL = fileRef.getDownloadURL();\n        this.downloadURL.subscribe(url => {\n          if (url) {\n            URL = url;\n            resolve(URL);\n          }\n\n          console.log('Link image in function uploadImages  is :' + URL);\n        });\n      })).subscribe();\n    });\n  }\n  /**\n   * Upload Video to Firebase Cloud in Folder VideosSurvey\n   * @output string url\n   */\n\n\n  uploadVideos(fileItem) {\n    return new Promise((resolve, reject) => {\n      let URL;\n      const date = Date.now();\n      const filePath = `Masterthesis/${date}`; // where storaged\n\n      const fileRef = this.storage.ref(filePath); // where is the endpoint\n\n      const task = this.storage.upload(`Masterthesis/${date}`, fileItem);\n      task.snapshotChanges().pipe(finalize(() => {\n        this.downloadURL = fileRef.getDownloadURL();\n        this.downloadURL.subscribe(url => {\n          if (url) {\n            URL = url;\n            resolve(URL);\n          }\n\n          console.log('Link video in function uploadImages  is :' + URL);\n        });\n      })).subscribe();\n    });\n  }\n\n}\n\nTrendAddOneComponent.ɵfac = function TrendAddOneComponent_Factory(t) {\n  return new (t || TrendAddOneComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Apollo), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.NotificationService), i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i5.AngularFireDatabase), i0.ɵɵdirectiveInject(i6.AngularFireStorage));\n};\n\nTrendAddOneComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TrendAddOneComponent,\n  selectors: [[\"app-trend-add-one\"]],\n  decls: 84,\n  vars: 11,\n  consts: [[1, \"container\"], [3, \"formGroup\", \"ngSubmit\"], [\"myform\", \"ngForm\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-6\", \"col-sm-12\"], [\"formControlName\", \"catId1\", 1, \"form-control\", 3, \"ngModelChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"formControlName\", \"catId2\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"title\", \"formControlName\", \"title\", 1, \"form-control\"], [\"data\", \"<p>Some initial data</p>\", \"formControlName\", \"description\"], [\"formArrayName\", \"trendVideos\", 1, \"form-group\", \"col-md-6\"], [\"id\", \"id-video\"], [3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"video-preview\", \"autoplay\", \"\", \"controls\", \"\", \"height\", \"150\", \"width\", \"33%\", \"style\", \"margin: 3px;\", 4, \"ngFor\", \"ngForOf\"], [\"formArrayName\", \"trendImages\", 1, \"form-group\", \"col-md-6\"], [\"id\", \"id-image\"], [\"class\", \"image-preview\", \"height\", \"150\", \"width\", \"33%\", 3, \"src\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"source_title\", \"placeholder\", \"Landessieg bei Jugend forscht 2021\", \"value\", \"\", 1, \"form-control\"], [\"formControlName\", \"source_description\", \"id\", \"\", \"cols\", \"30\", \"rows\", \"5\", \"placeholder\", \"From Max-Planck-Gymnasium G\\u00F6ttingen in Germany\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"source_url\", \"placeholder\", \"Url\", \"value\", \"\", 1, \"form-control\"], [\"formControlName\", \"source_enum\", \"multiple\", \"\", 1, \"form-control\"], [\"value\", \"Media\"], [\"value\", \"Publication\"], [\"value\", \"Internet\"], [\"value\", \"Database\"], [\"value\", \"Company\"], [\"value\", \"Paten\"], [\"value\", \"Seminar\"], [\"value\", \"Trade\"], [\"value\", \"Conferences\"], [\"value\", \"Travel\"], [\"value\", \"ExtendNetwork\"], [\"type\", \"submit\", 1, \"save\", \"btn\", \"btn-primary\"], [3, \"value\"], [1, \"alert\", \"alert-danger\"], [3, \"formGroupName\"], [1, \"fas\", \"fa-video\"], [1, \"fas\", \"fa-trash-alt\", \"col-1\", \"col-xl-1\", \"col-lg-1\", \"col-sm-1\", 3, \"click\"], [\"type\", \"file\", \"multiple\", \"multiple\", \"formControlName\", \"trend_videos\", \"placeholder\", \"add video\", 3, \"change\"], [\"autoplay\", \"\", \"controls\", \"\", \"height\", \"150\", \"width\", \"33%\", 1, \"video-preview\", 2, \"margin\", \"3px\"], [\"type\", \"video/mp4\", 3, \"src\"], [\"type\", \"video/ogg\", 3, \"src\"], [1, \"far\", \"fa-image\", 2, \"font-size\", \"18px\"], [\"type\", \"file\", \"multiple\", \"multiple\", \"formControlName\", \"trend_images\", \"placeholder\", \"add image\", 3, \"change\"], [\"height\", \"150\", \"width\", \"33%\", 1, \"image-preview\", 3, \"src\"]],\n  template: function TrendAddOneComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function TrendAddOneComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.add(ctx.form.value);\n      });\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"label\");\n      i0.ɵɵtext(6, \"Select MEGA Trend\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"select\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function TrendAddOneComponent_Template_select_ngModelChange_7_listener($event) {\n        return ctx.getMarcoTrendByMegaId($event);\n      });\n      i0.ɵɵelementStart(8, \"option\", 6);\n      i0.ɵɵtext(9, \"Select Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, TrendAddOneComponent_option_10_Template, 2, 2, \"option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, TrendAddOneComponent_div_11_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 4);\n      i0.ɵɵelementStart(13, \"label\");\n      i0.ɵɵtext(14, \"Select Marco Trend\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"select\", 9);\n      i0.ɵɵelementStart(16, \"option\", 6);\n      i0.ɵɵtext(17, \"Select Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, TrendAddOneComponent_option_18_Template, 2, 2, \"option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, TrendAddOneComponent_div_19_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 4);\n      i0.ɵɵelementStart(21, \"label\");\n      i0.ɵɵtext(22, \"Titel of Trend:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"input\", 10);\n      i0.ɵɵtemplate(24, TrendAddOneComponent_div_24_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 4);\n      i0.ɵɵelementStart(26, \"label\");\n      i0.ɵɵtext(27, \"Put more Information at description field\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"ckeditor\", 11);\n      i0.ɵɵtemplate(29, TrendAddOneComponent_div_29_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 12);\n      i0.ɵɵelementStart(31, \"div\", 13);\n      i0.ɵɵtemplate(32, TrendAddOneComponent_div_32_Template, 6, 1, \"div\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(33, TrendAddOneComponent_video_33_Template, 4, 2, \"video\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 16);\n      i0.ɵɵelementStart(35, \"div\", 17);\n      i0.ɵɵtemplate(36, TrendAddOneComponent_div_36_Template, 6, 1, \"div\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(37, TrendAddOneComponent_img_37_Template, 1, 1, \"img\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(38, \"br\");\n      i0.ɵɵelement(39, \"br\");\n      i0.ɵɵelement(40, \"br\");\n      i0.ɵɵelementStart(41, \"div\", 4);\n      i0.ɵɵelementStart(42, \"label\");\n      i0.ɵɵtext(43, \"Source Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(44, \"input\", 19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\", 4);\n      i0.ɵɵelementStart(46, \"label\");\n      i0.ɵɵtext(47, \"Source Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(48, \"textarea\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"div\", 4);\n      i0.ɵɵelementStart(50, \"label\");\n      i0.ɵɵtext(51, \"Source URL\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(52, \"input\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"div\", 4);\n      i0.ɵɵelementStart(54, \"label\");\n      i0.ɵɵtext(55, \"Source Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"select\", 22);\n      i0.ɵɵelementStart(57, \"option\", 23);\n      i0.ɵɵtext(58, \"Media\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"option\", 24);\n      i0.ɵɵtext(60, \"Publication\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"option\", 25);\n      i0.ɵɵtext(62, \"Internet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"option\", 26);\n      i0.ɵɵtext(64, \"Database\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"option\", 27);\n      i0.ɵɵtext(66, \"Company\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"option\", 28);\n      i0.ɵɵtext(68, \"Paten\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"option\", 29);\n      i0.ɵɵtext(70, \"Seminar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"option\", 30);\n      i0.ɵɵtext(72, \"Trade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"option\", 31);\n      i0.ɵɵtext(74, \"Conferences\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"option\", 32);\n      i0.ɵɵtext(76, \"Travel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"option\", 33);\n      i0.ɵɵtext(78, \"ExtendNetwork\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(79, \"br\");\n      i0.ɵɵelement(80, \"br\");\n      i0.ɵɵelement(81, \"br\");\n      i0.ɵɵelementStart(82, \"button\", 34);\n      i0.ɵɵtext(83, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(2);\n\n      let tmp_2_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categoriesMegatrend);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.form.get(\"catId1\")) == null ? null : tmp_2_0.hasError(\"required\")) && _r0.submitted);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.form.get(\"catId2\")) == null ? null : tmp_4_0.hasError(\"required\")) && _r0.submitted);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.form.get(\"title\")) == null ? null : tmp_5_0.hasError(\"required\")) && _r0.submitted);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.form.get(\"description\")) == null ? null : tmp_6_0.hasError(\"required\")) && _r0.submitted);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.trend_videos().controls);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.videos);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.trend_images().controls);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.images);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i7.NgForOf, i7.NgIf, i1.DefaultValueAccessor, i8.CKEditorComponent, i1.FormArrayName, i1.SelectMultipleControlValueAccessor, i1.FormGroupName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0cmVuZC1hZGQtb25lLmNvbXBvbmVudC5zYXNzIn0= */\"]\n});","map":{"version":3,"sources":["/Users/vantinhchu/Documents/07_Projects/IntelliJ/trendradar/angular/src/app/pages/trend-add-one/trend-add-one.component.ts","/Users/vantinhchu/Documents/07_Projects/IntelliJ/trendradar/angular/src/app/pages/trend-add-one/trend-add-one.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {FormGroup, FormControl, FormArray, FormBuilder, Validators} from '@angular/forms';\n// Get data by gql query\nimport {Apollo} from 'apollo-angular';\nimport gql from 'graphql-tag';\n\nimport {Router, ActivatedRoute} from '@angular/router';\nimport {NotificationService} from '../../services/notification.service';\n\nimport {AngularFireDatabase} from \"@angular/fire/database\";\nimport {AngularFireStorage} from \"@angular/fire/storage\";\nimport { HttpClientModule } from '@angular/common/http';\nimport {Observable,of, from } from 'rxjs';\nimport {finalize, map} from \"rxjs/operators\";\n\n@Component({\n  selector: 'app-trend-add-one',\n  templateUrl: './trend-add-one.component.html',\n  styleUrls: ['./trend-add-one.component.sass'],\n})\nexport class TrendAddOneComponent implements OnInit {\n  form: FormGroup = this.formBuilder.group({});\n  categories:any = [];\n  categoriesMegatrend:any = [];\n\n  images:any[] = []; // for preview images\n  videos:any[] = []; // for preview videos\n  uploadFilesImages:any[] = []; // for save images\n  uploadFilesVideos:any[] = []; // for save videos\n  // link images and videos after uploading\n  linkImages:any[] = [];\n  linkVideos:any[] = [];\n  downloadURL: Observable<string> = new Observable<string>();\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private apollo: Apollo,\n\n    private router: Router,\n    private route: ActivatedRoute,\n    private notification: NotificationService,\n    private fb: FormBuilder,\n\n    private db: AngularFireDatabase,\n    // public downloadURL: Observable<string>,\n    private storage: AngularFireStorage,\n  ) { }\n\n  ngOnInit(): void {\n    this.getCategories();\n    this.getCategoriesMegatrend();\n\n    this.form = this.formBuilder.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required],\n      trendVideos: this.fb.array([\n        this.fb.group({\n          trend_videos: new FormControl('', [Validators.required]),\n        })\n      ]),\n      trendImages: this.fb.array([\n        this.fb.group({\n          trend_images: new FormControl('', [Validators.required]),\n        })\n      ]),\n      catId1: ['', Validators.required],\n      catId2: ['', Validators.required],\n      source_title: ['', Validators.required],\n      source_description: ['', Validators.required],\n      source_url: ['', Validators.required],\n      source_enum: ['', Validators.required],\n\n    });\n  }\n\n  async add(valueInput: any) {\n    // validate form\n    if (this.form.invalid) {\n      this.notification.showError('Bitte validieren Sie Form', 'trendradar.de');\n      return;\n    }\n\n    if ( this.uploadFilesImages.length > 0){\n      for await (let item of this.uploadFilesImages){\n        this.linkImages.push( await this.uploadImages(item));\n      }\n    }\n\n    if ( this.uploadFilesVideos.length > 0){\n      for await (let item of this.uploadFilesVideos){\n        this.linkVideos.push( await this.uploadVideos(item));\n      }\n    }\n    console.log(this.linkVideos)\n    console.log(this.linkImages)\n\n    console.log('valueInput' + valueInput.description)\n\n    enum STATUS {\n      e = 'ACTIVE',\n      g = 'DEACTIVE',\n      b = 'BEENDET'\n    }\n\n    const _status = STATUS.e;\n\n    // add data to database\n    let data_trend = {\n      title: valueInput.title,\n      description: valueInput.description,\n      images: this.linkImages\n    }\n  }\n\n  /**\n   * Handle Change of Images\n   */\n  onFileImagesChange(event:any) {\n    if (event.target.files && event.target.files[0]) {\n      //console.log(this.uploadFilesImages);\n      let filesAmount = event.target.files.length;\n      for (let i = 0; i < filesAmount; i++) {\n        let reader = new FileReader();\n\n        reader.onload = (event: any) => {\n          // console.log(event.target.result);\n          this.images.push(event.target.result);\n\n        };\n        // for upload image\n        this.uploadFilesImages.push(event.target.files[i]);\n        reader.readAsDataURL(event.target.files[i]);\n      }\n    }\n  }\n\n  /**\n   * Handle Change of Videos\n   */\n  onFileVideoChange(event:any) {\n    if (event.target.files && event.target.files[0]) {\n      let filesAmount = event.target.files.length;\n      for (let i = 0; i < filesAmount; i++) {\n        let reader = new FileReader();\n\n        reader.onload = (event: any) => {\n          // console.log(event.target.result);\n          this.videos.push(event.target.result);\n\n        };\n        // for upload video to frise base\n        this.uploadFilesVideos.push(event.target.files[i]);\n        reader.readAsDataURL(event.target.files[i]);\n      }\n    }\n  }\n\n  /**\n   * get Infor of all categories\n   */\n  getCategories() {\n    this.apollo\n    .watchQuery({\n      query: gql`\n        query getCategories($isparent: Int){\n          getCategories(isparent: $isparent){\n            id\n            title\n            description\n            createdAt\n            createdBy\n            {\n              id\n              name\n            }\n          }\n        }\n      `,\n      variables: {\n        isparent: 1\n      }\n    })\n    .valueChanges.subscribe(result => {\n\n      this.categories = Array.of(result.data);\n\n      this.categories = this.categories[0].getCategories;\n\n    });\n  }\n\n  /**\n   * get Infor of all categories\n   */\n  getCategoriesMegatrend() {\n    this.apollo\n    .watchQuery({\n      query: gql`\n        query getCategories($isparent: Int){\n          getCategories(isparent: $isparent){\n            id\n            title\n            description\n            createdAt\n            createdBy\n            {\n              id\n              name\n            }\n          }\n        }\n      `,\n      variables: {\n        isparent: 0\n      }\n    })\n    .valueChanges.subscribe(result => {\n\n      this.categoriesMegatrend = Array.of(result.data);\n\n      this.categoriesMegatrend = this.categoriesMegatrend[0].getCategories;\n\n    });\n  }\n\n  getMarcoTrendByMegaId($event: any){\n    let id:number = parseInt($event);\n    console.log(id);\n    this.apollo\n    .watchQuery({\n      query: gql`\n        query getMarcoTrendByMegaId($id: Int){\n          getMarcoTrendByMegaId(id: $id){\n            id\n            title\n            description\n          }\n        }\n      `,\n      variables: {\n        parentId: 42\n      }\n    })\n    .valueChanges.subscribe(result2 => {\n     // this.categories = Array.of(result.data);\n      console.log('when changing category')\n      console.log(Array.of(result2.data));\n      //this.categories = Array.of(this.categories[0].getMarcoTrendByMegaId);\n    });\n  }\n\n  /**\n   * ************************************************************************************ FORM ARRAY\n   */\n\n  // Video ----------------------------------------------------------------------------------------------------------\n  /**\n   * Video, Add and Remove question type Video\n   */\n  trend_videos() {\n    return this.form.get('trendVideos') as FormArray;\n  }\n\n  removeQuestionVideo(index: number) {\n    this.trend_videos().removeAt(index);\n  }\n\n  // Images ----------------------------------------------------------------------------------------------------------\n  /**\n   * Image, Add and Remove question type image\n   * image would save on the google cloud\n   */\n  trend_images() {\n    return this.form.get('trendImages') as FormArray;\n  }\n\n  removeQuestionImage(index: number) {\n    this.trend_images().removeAt(index);\n  }\n\n  /**\n   * ***********************************************************************************************************\n   */\n\n  /**\n   * Upload Image to Firebase Cloud in Folder ImagesSurvey\n   * @output string url\n   */\n  uploadImages(fileItem: any):any {\n    return new Promise((resolve, reject) => {\n      let URL:any;\n      const date = Date.now();\n      const filePath = `Masterthesis/${date}`; // where storaged\n      const fileRef = this.storage.ref(filePath); // where is the endpoint\n\n      const task = this.storage.upload(`Masterthesis/${date}`, fileItem);\n      task.snapshotChanges()\n        .pipe(\n          finalize(() => {\n            this.downloadURL = fileRef.getDownloadURL();\n            this.downloadURL.subscribe(url => {\n              if (url) {\n                URL = url;\n                resolve(URL);\n              }\n              console.log('Link image in function uploadImages  is :' + URL);\n            });\n          })\n        )\n        .subscribe();\n    });\n  }\n\n  /**\n   * Upload Video to Firebase Cloud in Folder VideosSurvey\n   * @output string url\n   */\n  uploadVideos(fileItem: any): any {\n    return new Promise((resolve, reject) => {\n      let URL: any;\n      const date = Date.now();\n      const filePath = `Masterthesis/${date}`; // where storaged\n      const fileRef = this.storage.ref(filePath); // where is the endpoint\n\n      const task = this.storage.upload(`Masterthesis/${date}`, fileItem);\n      task.snapshotChanges()\n        .pipe(\n          finalize(() => {\n            this.downloadURL = fileRef.getDownloadURL();\n            this.downloadURL.subscribe(url => {\n              if (url) {\n                URL = url;\n                resolve(URL);\n              }\n              console.log('Link video in function uploadImages  is :' + URL);\n            });\n          })\n        )\n        .subscribe();\n    });\n  }\n}\n","<div class=\"container\">\n  <form (ngSubmit)=\"add(form.value)\" [formGroup]=\"form\" #myform=\"ngForm\">\n    <div class=\"form-row\">\n      <div class=\"form-group col-md-6 col-sm-12\">\n        <label>Select MEGA Trend</label>\n        <select formControlName=\"catId1\" class=\"form-control\" (ngModelChange)=\"getMarcoTrendByMegaId($event)\">\n          <option value=\"\">Select Category</option>\n          <option *ngFor=\"let c of categoriesMegatrend\" value=\"{{c.id}}\">{{c.title}}</option>\n        </select>\n\n        <div *ngIf=\"form.get('catId1')?.hasError('required') && myform.submitted\" class='alert alert-danger'>\n          Please select mega trend\n        </div>\n      </div>\n\n      <div class=\"form-group col-md-6 col-sm-12\">\n        <label>Select Marco Trend</label>\n        <select formControlName=\"catId2\" class=\"form-control\">\n          <option value=\"\">Select Category</option>\n          <option *ngFor=\"let c of categories\" value=\"{{c.id}}\">{{c.title}}</option>\n        </select>\n        <div *ngIf=\"form.get('catId2')?.hasError('required') && myform.submitted\" class='alert alert-danger'>\n          This Field is required\n        </div>\n      </div>\n\n      <div class=\"form-group col-md-6 col-sm-12\">\n        <label>Titel of Trend:</label>\n        <input type=\"text\" placeholder=\"title\" formControlName=\"title\" class=\"form-control\">\n        <div *ngIf=\"form.get('title')?.hasError('required') && myform.submitted\" class='alert alert-danger'>\n          Title is required\n        </div>\n      </div>\n\n      <div class=\"form-group col-md-6 col-sm-12\">\n        <label>Put more Information at description field</label>\n<!--        <textarea type=\"text\" formControlName=\"description\"-->\n<!--                  placeholder=\"Please write more information for this trend\"-->\n<!--                  class=\"form-control col-xs-12 col-sm-12 col-md-12 col-lg-12\"></textarea>-->\n\n        <ckeditor\n          data=\"<p>Some initial data</p>\"\n          formControlName=\"description\"\n        ></ckeditor>\n\n        <div *ngIf=\"form.get('description')?.hasError('required') && myform.submitted\" class='alert alert-danger'>\n          Description is required\n        </div>\n      </div>\n\n      <!-- Videos -->\n      <div formArrayName=\"trendVideos\" class=\"form-group col-md-6\">\n        <div id=\"id-video\">\n          <div *ngFor=\"let check of trend_videos().controls; let i=index\" [formGroupName]=\"i\">\n            <span>Videos <i class=\"fas fa-video\"></i></span>\n            <i class=\"fas fa-trash-alt col-1 col-xl-1 col-lg-1 col-sm-1\" (click)=\"removeQuestionVideo(i)\"></i>\n            <input type=\"file\" multiple=\"multiple\" formControlName=\"trend_videos\" placeholder=\"add video\"\n                   (change)=\"onFileVideoChange($event)\">\n          </div>\n        </div>\n\n        <video class=\"video-preview\" *ngFor='let url of videos' autoplay controls height=\"150\" width=\"33%\"\n               style=\"margin: 3px;\">\n          <source [src]=\"url\" type=\"video/mp4\">\n          <source [src]=\"url\" type=\"video/ogg\">\n          Your browser does not support HTML video.\n        </video>\n      </div>\n\n      <!-- Images -->\n      <div formArrayName=\"trendImages\" class=\"form-group col-md-6\">\n        <div id=\"id-image\">\n          <div *ngFor=\"let check of trend_images().controls; let i=index\" [formGroupName]=\"i\">\n            <span>Image <i class=\"far fa-image\" style=\"font-size: 18px\"></i></span>\n            <i class=\"fas fa-trash-alt col-1 col-xl-1 col-lg-1 col-sm-1\" (click)=\"removeQuestionImage(i)\"></i>\n            <input type=\"file\" multiple=\"multiple\" formControlName=\"trend_images\" placeholder=\"add image\"\n                   (change)=\"onFileImagesChange($event)\">\n          </div>\n        </div>\n\n        <img class=\"image-preview\" *ngFor='let url of images' [src]=\"url\" height=\"150\" width=\"33%\">\n      </div>\n\n      <br><br><br>\n<!--      Source ---------------------------------------------- -->\n        <div class=\"form-group col-md-6 col-sm-12\">\n          <label>Source Title</label>\n          <input type=\"text\" formControlName=\"source_title\" class=\"form-control\" placeholder=\"Landessieg bei Jugend forscht 2021\" value=\"\">\n        </div>\n\n        <div class=\"form-group col-md-6 col-sm-12\">\n          <label>Source Description</label>\n          <textarea class=\"form-control\" formControlName=\"source_description\" id=\"\" cols=\"30\" rows=\"5\" placeholder=\"From Max-Planck-Gymnasium Göttingen in Germany\"></textarea>\n        </div>\n\n        <div class=\"form-group col-md-6 col-sm-12\">\n          <label>Source URL</label>\n          <input class=\"form-control\" type=\"text\" formControlName=\"source_url\" placeholder=\"Url\" value=\"\">\n        </div>\n\n        <div class=\"form-group col-md-6 col-sm-12\">\n          <label>Source Type</label>\n          <select class=\"form-control\" formControlName=\"source_enum\" multiple>\n            <option value=\"Media\">Media</option>\n            <option value=\"Publication\">Publication</option>\n            <option value=\"Internet\">Internet</option>\n            <option value=\"Database\">Database</option>\n            <option value=\"Company\">Company</option>\n            <option value=\"Paten\">Paten</option>\n            <option value=\"Seminar\">Seminar</option>\n            <option value=\"Trade\">Trade</option>\n            <option value=\"Conferences\">Conferences</option>\n            <option value=\"Travel\">Travel</option>\n            <option value=\"ExtendNetwork\">ExtendNetwork</option>\n          </select>\n        </div>\n\n      <br><br><br>\n      <button type=\"submit\" class=\"save btn btn-primary\">Save</button>\n    </div>\n  </form>\n</div>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}